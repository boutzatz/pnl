# we assume that PnlConfig is located in <prefix>/lib/pnl/
get_filename_component(pnl_root_dir "${CMAKE_CURRENT_LIST_DIR}/../.." ABSOLUTE)


if (MSVC)
    set(PNL_LIBRARY ${pnl_root_dir}/lib/@CMAKE_SHARED_LIBRARY_PREFIX@pnl.lib)
else (MSVC)
    set(PNL_LIBRARY ${pnl_root_dir}/lib/@CMAKE_SHARED_LIBRARY_PREFIX@pnl@CMAKE_SHARED_LIBRARY_SUFFIX@)
endif(MSVC)
set(PNL_INCLUDE_DIR ${pnl_root_dir}/include)

# Handle the QUIETLY and REQUIRED arguments and set PNL_FOUND to TRUE if
# all listed variables are TRUE
include(FindPackageHandleStandardArgs)
find_package_handle_standard_args(Pnl
    REQUIRED_VARS 
        PNL_LIBRARY PNL_INCLUDE_DIR
    FAIL_MESSAGE 
    "Pnl not found. Consider defining Pnl_DIR."
)

# link_directories(${pnl_root_dir}/lib)
if (PNL_FOUND)
    if (MSVC)
        set(PNL_INCLUDE_DIRS ${PNL_INCLUDE_DIR})
        set(PNL_LIBRARIES ${PNL_LIBRARY})
    else (MSVC)
        set(PNL_INCLUDE_DIRS ${PNL_INCLUDE_DIR} @PNL_INCLUDE_DIRS@)
        set(PNL_LIBRARIES ${PNL_LIBRARY} @LIBS@)
    endif(MSVC)
    message(STATUS "PNL Include: ${PNL_INCLUDE_DIRS}")
    message(STATUS "PNL Libraries: ${PNL_LIBRARIES}")
endif (PNL_FOUND)
mark_as_advanced(PNL_INCLUDE_DIRS PNL_LIBRARIES)
